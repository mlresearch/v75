\usepackage{xifthen}

\newcommand{\F}{\mathcal{F}}
\newcommand{\Prb}{\mathbb{P}}
\newcommand{\IND}[1]{\mathbb{I}\left\{{#1}\right\}}
\newcommand{\domain}{\mathbf{D}}

\newcommand{\lzero}[1]{\norm{#1}_0}
\newcommand{\ffamily}{\mathcal{F}}
\newcommand{\sfamily}{\mathcal{A}}
\newcommand{\ofamily}{\mathcal{O}}
\newcommand{\ofamilyz}{\mathcal{O}_0}
\newcommand{\ofamilyf}{\mathcal{O}_1}
\newcommand{\ofamilyzeta}{\mathcal{O}_\zeta}

\newcommand{\Uone}{\mathcal{U}^{(1)}}
\newcommand{\Utemp}[2]{\mathcal{U}^{({#2})}_{u_{#1}}}
\newcommand{\Utwo}{\Utemp{1}{2}}
\newcommand{\Um}{\Utemp{m-1}{m}}
\newcommand{\Ut}{\Utemp{t-1}{t}}
\newcommand{\UM}{\Utemp{M-1}{M}}
\newcommand{\V}{\mathcal{V}}

\newcommand{\ftnuvf}{\left\{f_{u_{1:M}}^v\right\}}
\newcommand{\ftnuv}{f_{u_{1:M}}^v}
\newcommand{\ftnuvtildem}{f_{u_{1:m}, \tilde u_{m+1:M}}^{\tilde v}}
\newcommand{\ftnuvtildet}{f_{u_{1:t-1}, \tilde u_{t:M}}^{\tilde v}}
\newcommand{\ftnuvtildetpone}{f_{u_{1:t}, \tilde u_{t+1:M}}^{\tilde v}}
%\newcommand{\ftnuvbart}{f_{u_{1:t-1}, \bar u_{t:M}}^{\bar v}}
\newcommand{\ftnuvtildetfin}{f_{u_{1:M}}^{\tilde v}}
%\newcommand{\ftnuvbartfin}{f_{u_{1:M}}^{\bar v}}
\newcommand{\ftnuvm}{f_{u_{1:M}}^{-1}}
\newcommand{\ftnuvp}{f_{u_{1:M}}^{+1}}

\newcommand{\grduv}{g_{u_{1:M}}^v}
\newcommand{\grduvtildem}{g_{u_{1:m}, \tilde u_{m+1:M}}^{\tilde v}}
\newcommand{\grduvtildet}{g_{u_{1:t-1}, \tilde u_{t:M}}^{\tilde v}}
\newcommand{\grduvtildetfin}{g_{u_{1:M}}^{\tilde v}}
\newcommand{\grduvm}{g_{u_{1:M}}^{-1}}
\newcommand{\grduvp}{g_{u_{1:M}}^{+1}}

\newcommand{\sgrduv}{\partial f_{u_{1:M}}^v}
\newcommand{\sgrduvtildem}{\partial f_{u_{1:m}, \tilde u_{m+1:M}}^{\tilde v}}
\newcommand{\sgrduvtildet}{\partial f_{u_{1:t-1}, \tilde u_{t:M}}^{\tilde v}}
\newcommand{\sgrduvtildetfin}{\partial f_{u_{1:M}}^{\tilde v}}
\newcommand{\sgrduvm}{\partial f_{u_{1:M}}^{-1}}
\newcommand{\sgrduvp}{\partial f_{u_{1:M}}^{+1}}

\newcommand{\exptuv}{\E_{u_{1:M}}^v}
\newcommand{\exptuvtildet}{\E_{u_{1:t-1}, \tilde u_{t:M}}^{\tilde v}}
%\newcommand{\exptuvbart}{\E_{u_{1:t-1}, \bar u_{t:M}}^{\bar v}}
\newcommand{\exptuvtildetfin}{\E_{u_{1:M}}^{\tilde v}}
%\newcommand{\exptuvbartfin}{\E_{u_{1:M}}^{\bar v}}
\newcommand{\exptuvm}{\E_{u_{1:M}}^{-1}}
\newcommand{\exptuvp}{\E_{u_{1:M}}^{+1}}

\newcommand{\probuv}{\Prb_{u_{1:M}}^v}
\newcommand{\probuvtilde}{\Prb_{u_{1:M}}^{\tilde{v}}}
\newcommand{\probuvtildet}{\Prb_{u_{1:t-1}, \tilde u_{t:M}}^{\tilde v}}
\newcommand{\probuvtildetpone}{\Prb_{u_{1:t}, \tilde u_{t+1:M}}^{\tilde v}}
%\newcommand{\probuvbart}{\Prb_{u_{1:t-1}, \bar u_{t:M}}^{\bar v}}
\newcommand{\probuvtildetfin}{\Prb_{u_{1:M}}^{\tilde v}}
%\newcommand{\probuvbartfin}{\Prb_{u_{1:M}}^{\bar v}}
\newcommand{\probuvm}{\Prb_{u_{1:M}}^{-1}}
\newcommand{\probuvp}{\Prb_{u_{1:M}}^{+1}}

\newcommand{\stmt}{\textup{ST}}
\newcommand{\ordr}{\textup{OR}}

\newcommand{\ball}[2]{\mathbf{B}_{#1}({#2})}
\newcommand{\balltwo}[2]{\mathbf{B}^2_{#1}({#2})}
\newcommand{\ballinf}[2]{\mathbf{B}^\infty_{#1}({#2})}
\newcommand{\ballp}[2]{\mathbf{B}^p_{#1}({#2})}
\newcommand{\dist}[2]{d\left(#1, #2\right)}

\newcommand{\Btemp}[1]{\ball{u_{#1}}{\delta_{#1}}}
\newcommand{\Bone}{\Btemp{1}}
\newcommand{\Btwo}{\Btemp{2}}
\newcommand{\Btmtwo}{\Btemp{t-2}}
\newcommand{\Btmone}{\Btemp{t-1}}
\newcommand{\Bt}{\Btemp{t}}
\newcommand{\BMmone}{\Btemp{M-1}}
\newcommand{\BM}{\Btemp{M}}

\newcommand{\Binftemp}[1]{\ballinf{u_{#1}}{\delta_{#1}}}
\newcommand{\Binfone}{\Binftemp{1}}
\newcommand{\Binftwo}{\Binftemp{2}}
\newcommand{\Binftmtwo}{\Binftemp{t-2}}
\newcommand{\Binftmone}{\Binftemp{t-1}}
\newcommand{\Binft}{\Binftemp{t}}
\newcommand{\BinfMmone}{\Binftemp{M-1}}
\newcommand{\BinfM}{\Binftemp{M}}

% h for half
\newcommand{\Binfhtemp}[1]{\ballinf{u_{#1}}{\delta_{#1}/2}}
\newcommand{\Binfoneh}{\Binfhtemp{1}}
\newcommand{\Binftmtwoh}{\Binfhtemp{t-2}}
\newcommand{\Binftmoneh}{\Binfhtemp{t-1}}
\newcommand{\Binfth}{\Binfhtemp{t}}
\newcommand{\BinfMh}{\Binfhtemp{M}}

\newcommand{\Btwotemp}[1]{\balltwo{u_{#1}}{\delta_{#1}}}
\newcommand{\Btwoone}{\Btwotemp{1}}
\newcommand{\Btwotwo}{\Btwotemp{2}}
\newcommand{\Btwotmtwo}{\Btwotemp{t-2}}
\newcommand{\Btwotmone}{\Btwotemp{t-1}}
\newcommand{\Btwot}{\Btwotemp{t}}
\newcommand{\Btwom}{\Btwotemp{m}}
\newcommand{\BtwoMmone}{\Btwotemp{M-1}}
\newcommand{\BtwoM}{\Btwotemp{M}}

\newcommand{\Btwohtemp}[1]{\balltwo{u_{#1}}{\eta\delta_{#1}}}
\newcommand{\Btwooneh}{\Btwohtemp{1}}
\newcommand{\Btwotmtwoh}{\Btwohtemp{t-2}}
\newcommand{\Btwotmoneh}{\Btwohtemp{t-1}}
\newcommand{\Btwoth}{\Btwohtemp{t}}
\newcommand{\BtwoMh}{\Btwohtemp{M}}

\newcommand{\Bptemp}[1]{\ballp{u_{#1}}{\delta_{#1}}}
\newcommand{\Bpone}{\Bptemp{1}}
\newcommand{\Bptwo}{\Bptemp{2}}
\newcommand{\Bpm}{\Bptemp{m}}
\newcommand{\Bptmtwo}{\Bptemp{t-2}}
\newcommand{\Bptmone}{\Bptemp{t-1}}
\newcommand{\Bpt}{\Bptemp{t}}
\newcommand{\BpMmone}{\Bptemp{M-1}}
\newcommand{\BpM}{\Bptemp{M}}

\newcommand{\Qtemp}[1]{Q^{({#1})}}
\newcommand{\Qone}{\Qtemp{1}}
\newcommand{\Qtwo}{\Qtemp{2}}
\newcommand{\Qm}{\Qtemp{m}}
\newcommand{\Qtmone}{\Qtemp{t-1}}
\newcommand{\Qt}{\Qtemp{t}}
\newcommand{\QM}{\Qtemp{M}}
\newcommand{\QMpone}{\Qtemp{M+1}}

\newcommand{\EvSmSpltemp}[1]{\Lambda_{u_{#1}}^{({#1})}}
\newcommand{\EvSmSplone}{\EvSmSpltemp{1}}
\newcommand{\EvSmSpltwo}{\EvSmSpltemp{2}}
\newcommand{\EvSmSplk}{\EvSmSpltemp{k}}
\newcommand{\EvSmSplm}{\EvSmSpltemp{m}}
\newcommand{\EvSmSplM}{\EvSmSpltemp{M}}
\newcommand{\EvSmSpltildet}{\Lambda_{\tilde u_{t}}^{({t})}}

\newcommand{\EvSmSplFrmOneTo}[1]{\Lambda_{1:{#1}}}

\newcommand{\EvSlmInBalltemp}[1]{\Gamma_{u_{#1},l_{#1}}^{({#1})}}
\newcommand{\EvSlmInBallk}{\EvSlmInBalltemp{k}}
\newcommand{\EvSlmInBallm}{\EvSlmInBalltemp{m}}
\newcommand{\EvSlmInBallM}{\EvSlmInBalltemp{m}}

\newcommand{\EvSlmInBallFrmOneTo}[1]{\Gamma_{1:{#1}}}

\newcommand{\EvSlmNoisetemp}[1]{\Xi_{u_{#1},l_{#1}}^{({#1})}}
\newcommand{\EvSlmNoisem}{\EvSlmNoisetemp{m}}
\newcommand{\EvSlmNoisezettemp}[2]{\Xi_{u_{#1},l_{#1}}^{({#1},{#2})}}
\newcommand{\EvSlmNoisemzettemp}[1]{\EvSlmNoisezettemp{m}{{#1}}}
\newcommand{\EvSlmNoisekzettemp}[1]{\EvSlmNoisezettemp{k}{{#1}}}
\newcommand{\EvSlmNoiseZotemp}[1]{\EvSlmNoisezettemp{{#1}}{0}}
\newcommand{\EvSlmNoiseFotemp}[1]{\EvSlmNoisezettemp{{#1}}{1}}
\newcommand{\EvSlmNoiseZom}{\EvSlmNoiseZotemp{m}}
\newcommand{\EvSlmNoiseFom}{\EvSlmNoiseFotemp{m}}

\newcommand{\EvSlmNoiseFrmOneTo}[1]{\Xi_{1:{#1}}}

\newcommand{\EvSpliInBallt}{E_{i, \tilde u_t}^{(t)}}

%\newcommand{\EvSlmNoisezettemp}[2]{\Xi_{u_{#1},l_{#1}}^{({#1},{#2})}}
%\newcommand{\EvSlmNoisemzettemp}[1]{\Xi_{u_{m},l_{m}}^{(m,{#1})}}
%\newcommand{\EvSlmNoiseZotemp}[1]{\EvSlmNoisezettemp{{#1}}{0}}
%\newcommand{\EvSlmNoiseFotemp}[1]{\EvSlmNoisezettemp{{#1}}{1}}
%\newcommand{\EvSlmNoiseZom}{\EvSlmNoiseZotemp{m}}
%\newcommand{\EvSlmNoiseFom}{\EvSlmNoiseFotemp{m}}

\newcommand{\ftnutemp}[1]{f_{u_{1:{#1}}}}
\newcommand{\ftnuone}{f_{u_1}}
\newcommand{\ftnutwo}{\ftnutemp{2}}
\newcommand{\ftnutmone}{\ftnutemp{t-1}}
\newcommand{\ftnutmtwo}{\ftnutemp{t-2}}
\newcommand{\ftnut}{\ftnutemp{t}}
\newcommand{\ftnuMmone}{\ftnutemp{M-1}}
\newcommand{\ftnuM}{\ftnutemp{M}}

\newcommand{\ftninutemp}[1]{h_{u_{1:{#1}}}}
\newcommand{\ftninuone}{h_{u_1}}
\newcommand{\ftninutwo}{\ftninutemp{2}}
\newcommand{\ftninutmone}{\ftninutemp{t-1}}
\newcommand{\ftninutmtwo}{\ftninutemp{t-2}}
\newcommand{\ftninut}{\ftninutemp{t}}
\newcommand{\ftninuM}{\ftninutemp{M}}
\newcommand{\ftninuv}{h^{v}_{u_{1:M}}}
\newcommand{\ftninuvm}{h^{-1}_{u_{1:M}}}
\newcommand{\ftninuvp}{h^{+1}_{u_{1:M}}}

\newcommand{\gutemp}[1]{g_{u_{1:{#1}}}}
\newcommand{\guone}{g_{u_1}}
\newcommand{\gutwo}{\gutemp{2}}
\newcommand{\gutmone}{\gutemp{t-1}}
\newcommand{\gutmtwo}{\gutemp{t-2}}
\newcommand{\gut}{\gutemp{t}}
\newcommand{\guMmone}{\gutemp{M-1}}
\newcommand{\guM}{\gutemp{M}}
\newcommand{\guv}{g^{v}_{u_{1:M}}}
\newcommand{\guvm}{g^{-1}_{u_{1:M}}}
\newcommand{\guvp}{g^{+1}_{u_{1:M}}}

\newcommand{\ltwosqr}[1]{\norm{#1}_2^2}
\newcommand{\ones}{\mathbf{1}}

\newcommand{\jcdcomment}[1]{\textbf{JCD: {#1}}}
\newcommand{\rfcomment}[1]{\textbf{RF: {#1}}}

\newcommand{\unitvec}[1][]{% Unit vector, with argument or defaults to e_1.
  \ifthenelse{\isempty{#1}}{%
    \mathbf{e}_1
  }{%
    \mathbf{e}_{#1}
  }
}


% macros used for smooth str cvx construction example
\newcommand{\fxone}{f_{1}}
\newcommand{\fxtwo}{f_{2}}
\newcommand{\Lmax}{L_{\textup{max}}}
\newcommand{\Lmin}{L_{\textup{min}}}
\newcommand{\intset}[2]{\mathbf{Its}({#1},{#2})}
\newcommand{\itpset}{\mathbf{Itp}}
\newcommand{\fhypm}{f_-^{\rho, w}}
\newcommand{\fhypp}{f_+^{\rho, w}}
\newcommand{\fhypmtemp}[2]{f_-^{{#1},{#2}}}
\newcommand{\fhypptemp}[2]{f_+^{{#1},{#2}}}
\newcommand{\algmaxsmth}{\textsc{smthMax}}

\newcommand\numberthis{\addtocounter{equation}{1}\tag{\theequation}}
\allowdisplaybreaks[4]

%%%%%%%%%%%% things already in rf.sty
\usepackage{color}
\newcommand{\cycomment}[1]{
	\textcolor{blue}{\textbf{CY:} {#1}} \\
}

% Symbol formats
\newcommand{\mc}[1]{\mathcal{#1}}
\newcommand{\mbf}[1]{\mathbf{#1}}
\newcommand{\mrm}[1]{\mathrm{#1}}
\newcommand{\mbi}[1]{\boldsymbol{#1}} % Bold and italic (math bold italic)

% Norms for convenience, along with sizes
\newcommand{\norm}[1]{\left\|{#1}\right\|} % A norm with 1 argument
\newcommand{\lone}[1]{\norm{#1}_1} % l1 norm
\newcommand{\ltwo}[1]{\norm{#1}_2} % l2 norm
\newcommand{\linf}[1]{\norm{#1}_\infty} % l-infinity norm
\newcommand{\dnorm}[1]{\norm{#1}_*} % Dual norm
\newcommand{\lfro}[1]{\left\|{#1}\right\|_{\rm Fr}} % Frobenius norm
\newcommand{\matrixnorm}[1]{\left|\!\left|\!\left|{#1}
	\right|\!\right|\!\right|} % Matrix norm with three bars
\newcommand{\normbigg}[1]{\bigg\|{#1}\bigg\|} % A norm with 1 argument and bigg
% brackets.
\newcommand{\normbig}[1]{\big\|{#1}\big\|} % A norm with 1 argument and big
% brackets.
\newcommand{\normBig}[1]{\Big\|{#1}\Big\|} % A norm with 1 argument and Big
% brackets
\newcommand{\lonebigg}[1]{\normbigg{#1}_1} % l1 norm
\newcommand{\ltwobigg}[1]{\normbigg{#1}_2} % l2 norm
\newcommand{\ltwobig}[1]{\normbig{#1}_2} % l2 norm
\newcommand{\ltwoBig}[1]{\normBig{#1}_2} % l2 norm
\newcommand{\linfbigg}[1]{\normbigg{#1}_\infty} % l-infinity norm
\newcommand{\norms}[1]{\|{#1}\|} % A norm with 1 argument and normal (small)
% brackets.
\newcommand{\matrixnorms}[1]{|\!|\!|{#1}|\!|\!|} % Small matrix norm
\newcommand{\lones}[1]{\norms{#1}_1} % l1 norm with small brackets
\newcommand{\ltwos}[1]{\norms{#1}_2} % l2 norm with small brackets
\newcommand{\linfs}[1]{\norms{#1}_\infty} % l-infinity norm with small brackets

\newcommand{\defeq}{:=}
\newcommand{\eqdef}{=:}
\newcommand{\what}[1]{\widehat{#1}} % Wide hat
\newcommand{\wt}[1]{\widetilde{#1}} % Wide tilde

\newcommand{\half}{\frac{1}{2}}
\newcommand{\indic}[1]{\mbf{1}\left\{#1\right\}} % Indicator function

\newcommand{\reals}{\mathbb{R}} % Real number symbol
\newcommand{\R}{\mathbb{R}}
\newcommand{\C}{\mathbb{C}} % Complex numbers
\newcommand{\integers}{\mathbb{Z}} % Integer symbol
\newcommand{\Z}{\mathbb{Z}}
\newcommand{\rationals}{\mathbb{Q}} % Rational numbers
\newcommand{\Q}{\mathbb{Q}}
\newcommand{\naturals}{\mathbb{N}} % Natural numbers
\newcommand{\N}{\mathbb{N}}

%%%% Probability symbols and associated distances %%%%
\newcommand{\E}{\mathbb{E}} % Expectation symbol
\renewcommand{\P}{\mathbb{P}} % Probability symbol
\newcommand{\var}{\mathop{\rm Var}} % Variance
\newcommand{\cov}{\mathop{\rm Cov}} % Covariance
\newcommand{\simiid}{\stackrel{\rm iid}{\sim}}
\newcommand{\openleft}[2]{\left({#1},{#2}\right]} % Interval open on left
\newcommand{\openright}[2]{\left[{#1},{#2}\right)} % Interval open on right
\newcommand{\tvnorm}[1]{\norm{#1}_{\rm TV}}
\newcommand{\tvnorms}[1]{\norms{#1}_{\rm TV}}
\newcommand{\dkl}[2]{D_{\rm kl}\left({#1} |\!| {#2}\right)}
\newcommand{\dhel}{d_{\rm hel}}

\providecommand{\cl}{\mathop{\rm cl}}
\providecommand{\interior}{\mathop{\rm int}}
\providecommand{\argmax}{\mathop{\rm argmax}} % Defining math symbols
\providecommand{\argmin}{\mathop{\rm argmin}}

\newcommand{\<}{\langle} % Angle brackets
\renewcommand{\>}{\rangle}
