%\def\pinv{\dag}
%\def\ltwo#1{\left\|{#1}\right\|_2}
%\def\sqrtm#1{{#1}^{1/2}}
\def\half{\frac{1}{2}}
%\def\outerproduct#1#2{{#1}{#2}^{\!\!\!\top}}
%\def\xdomain{\mathcal{X}}

\DeclareMathOperator*{\argmin}{argmin}
\DeclareMathOperator*{\argmax}{argmax}
%%%%%% Author Notes %%%%%%%%
\newcommand{\na}[1]{$\ll$\textsf{\color{red} Naman : #1}$\gg$}
\newcommand{\elad}[1]{$\ll$\textsf{\color{blue} Elad : #1}$\gg$}
\newcommand{\bab}[1]{$\ll$\textsf{\color{green} Brian : #1}$\gg$}
\newcommand{\tm}[1]{$\ll$\textsf{\color{blue} Tengyu : #1}$\gg$}
\newcommand{\zeyuan}[1]{$\ll$\textsf{\color{purple} Zeyuan: #1}$\gg$}

\def\X{{\mathcal X}}
\def\H{{\mathcal H}}
\def\Y{{\mathcal Y}}
\def\D{{\mathcal D}}
\def\K{{\mathcal K}}
\def\L{{\mathcal L}}
\def\F{{\mathcal F}}
\def\mP{{\mathcal P}}
\def\reals{{\mathbb R}}
\def\R{{\mathcal R}}
\def\fhat{{\ensuremath{\hat{f}}}}
\def\mH{\mathcal{H}}
\newcommand{\at}{\makeatletter @\makeatother}

\DeclareMathOperator{\clip}{clip}
\def\norm#1{\mathopen\| #1 \mathclose\|}% use instead of $\|x\|$

\newcommand{\proj}{\mathop{\prod}}

\newcommand{\err}{\mathop{\mbox{\rm error}}}
\newcommand{\rank}{\mathop{\mbox{\rm rank}}}
\newcommand{\ellipsoid}{{\mathcal E}}
\newcommand{\sround}{\mathop{\mbox{\rm SmartRound}}}
\newcommand{\round}{\mathop{\mbox{\rm round}}}
\newcommand{\myspan}{\mathop{\mbox{\rm span}}}
\newcommand{\edges}{\mathop{\mbox{\rm edges}}}
\newcommand{\conv}{\mathop{\mbox{\rm conv}}}
\newcommand{\sign}{\mathop{\mbox{\rm sign}}}

\newcommand{\ignore}[1]{}
\newcommand{\equaldef}{\stackrel{\text{\tiny def}}{=}}
\newcommand{\equaltri}{\triangleq}
\newcommand{\tr}{\ensuremath{{\scriptscriptstyle\mathsf{T}}}}
\def\trace{{\bf Tr}}
\def\dist{{\bf P}}
\def\mydist{{\bf Q}}
\def\reals{{\mathbb R}}
\newcommand{\E}{\mathop{\mbox{\bf E}}}
\newcommand\ball{\mathbb{B}}
\newcommand\var{\mbox{VAR}}
\def\bzero{\mathbf{0}}

\def\Exp{\mathop{\mbox{E}}}
\def\mP{{\mathcal P}}
\def\risk{{\mbox{Risk}}}
\def\ent{{\mbox{ent}}}
\def\mG{{\mathcal G}}
\def\mA{{\mathcal A}}
\def\V{{\mathcal V}}
\def\lhat{\hat{\ell}}
\def\Lhat{\hat{L}}
\def\ltil{\tilde{\ell}}
\def\Ltil{\tilde{L}}

\def\Ahat{\hat{\mathbf{A}}}

\def\bold0{\mathbf{0}}
\def\boldone{\mathbf{1}}
\def\boldp{\mathbf{p}}
\def\boldq{\mathbf{q}}
\def\boldr{\mathbf{r}}
\def\boldA{\mathbf{A}}
\def\boldI{\mathbf{I}}
\newcommand\mycases[4] {{
\left\{
\begin{array}{ll}
    {#1} & {#2} \\\\
    {#3} & {#4}
\end{array}
\right. }}
\newcommand\mythreecases[6] {{
\left\{
\begin{array}{ll}
    {#1} & {#2} \\\\
    {#3} & {#4} \\\\
    {#5} & {#6}
\end{array}
\right. }}
\def\ba{\mathbf{a}}
\def\bb{\mathbf{b}}
\def\bc{\mathbf{c}}
\def\bB{\mathbf{B}}
\def\bC{\mathbf{C}}
\def\be{\mathbf{e}}
\def\etil{\tilde{\mathbf{e}}}
\def\bh{\mathbf{h}}
\def\bk{\mathbf{k}}
\def\bu{\mathbf{u}}
\def\bx{\mathbf{x}}
\def\w{\mathbf{w}}
\def\by{\mathbf{y}}
\def\bz{\mathbf{z}}
\def\bp{\mathbf{p}}
\def\bq{\mathbf{q}}
\def\br{\mathbf{r}}
\def\bu{\mathbf{u}}
\def\bv{\mathbf{v}}

\def\bw{\mathbf{w}}
\def\ba{\mathbf{a}}
\def\bA{\mathbf{A}}
\def\bM{\mathbf{M}}
\def\bS{\mathbf{S}}
\def\bG{\mathbf{G}}
\def\bH{\mathbf{H}}
\def\bI{\mathbf{I}}
\def\bJ{\mathbf{J}}
\def\bP{\mathbf{P}}
\def\bQ{\mathbf{Q}}
\def\bV{\mathbf{V}}
\def\bone{\mathbf{1}}


\def\xhat{\hat{\mathbf{x}}}
\def\xbar{\bar{\mathbf{x}}}
\def\vol{\mbox{vol}}
\def\trace{{\bf Tr}}
\def\Exp{\mathop{\mbox{E}}}
\newcommand{\val}{\mathop{\mbox{\rm val}}}
\renewcommand{\deg}{\mathop{\mbox{\rm deg}}}
\newcommand{\eps}{\varepsilon}

% Macros for this chapter
\def\bone{\mathbf{1}}
\newcommand{\sphere}{\ensuremath{\mathbb {S}}}
\newcommand{\simplex}{\ensuremath{\Delta}}
\newcommand{\diag}{\mbox{diag}}
%\newcommand{\K}{\ensuremath{\mathcal K}}
\newcommand{\Ktil}{\ensuremath{\mathcal{\tilde{K}}}}
\def\mA{{\mathcal A}}
\newcommand{\x}{\ensuremath{\mathbf x}}
\newcommand{\vn}{\ensuremath{\mathbf n}}
\newcommand{\rv}[1][t]{\ensuremath{\mathbf r_{#1}}}
\newcommand{\y}{\ensuremath{\mathbf y}}
\newcommand{\z}{\ensuremath{\mathbf z}}
\newcommand{\h}{\ensuremath{\mathbf h}}
\newcommand{\xtil}[1][t]{\ensuremath{\mathbf {\tilde{x}}_{#1}}}
\newcommand{\xv}[1][t]{\ensuremath{\mathbf x_{#1}}}
\newcommand{\xvh}[1][t]{\ensuremath{\mathbf {\hat x}}_{#1}}
\newcommand{\ftildeh}[1][t]{\ensuremath{\mathbf {\hat f}}_{#1}}
\newcommand{\xvbar}[1][t]{\ensuremath{\bar{\mathbf x}_{#1}}}
\newcommand{\xstar}{\ensuremath{\mathbf x^{*}}}
\newcommand{\xstarr}{\ensuremath{\mathbf x^{\star}}}
\newcommand{\yv}[1][t]{\ensuremath{\mathbf y_{#1}}}
\newcommand{\zv}[1][t]{\ensuremath{\mathbf z_{#1}}}
\newcommand{\fv}[1][t]{\ensuremath{\mathbf f_{#1}}}
\newcommand{\gv}[1][t]{\ensuremath{\mathbf g_{#1}}}
\newcommand{\qv}[1][t]{\ensuremath{\mathbf q_{#1}}}
\newcommand{\pv}[1][t]{\ensuremath{\mathbf p_{#1}}}
\newcommand{\ftilde}[1][t]{\ensuremath{\mathbf {\tilde f}_{#1}}}
\newcommand{\gtilde}[1][t]{\ensuremath{\mathbf {\tilde g}_{#1}}}
\newcommand{\ev}[1][i]{\ensuremath{\mathbf e_{#1}}}
\newcommand{\uv}{\ensuremath{\mathbf u}}
\newcommand{\vv}{\ensuremath{\mathbf v}}
%\newcommand{\A}[1][t]{\ensuremath{\mathbf A_{#1}}}
\newcommand{\Ftilde}[1][t]{\ensuremath{\mathbf {\tilde F}_{#1}}}
\newcommand{\Gtilde}[1][t]{\ensuremath{\mathbf {\tilde G}_{#1}}}
\newcommand{\hessum}[1][t]{\ensuremath{\boldsymbol{H}_{1:#1}}}
\newcommand{\reg}[1][t]{\ensuremath{\lambda_{#1}}}
\newcommand{\regsum}[1][t]{\ensuremath{\boldsymbol{\lambda}_{1:#1}}}
%\newcommand{\F}{\ensuremath{\mathcal F}}
\newcommand{\ntil}{\tilde{\nabla}}
\newcommand{\Ftil}{\tilde{F}}
\newcommand{\ftil}{\tilde{f}}
\newcommand{\rhotil}{\tilde{\rho}}
\newcommand{\gtil}{\tilde{g}}
\newcommand{\mutil}{\tilde{\mu}}
\newcommand{\Atil}{\tilde{A}}
\newcommand{\Qtil}{\tilde{Q}}
\newcommand{\vtil}{\tilde{v}}
\newcommand\super[1] {{^{(#1)}}}
\newcommand\pr{\mbox{\bf Pr}}
\newcommand\av{\mbox{\bf E}}
\def\regret{\ensuremath{\mbox{Regret}}}
\def\bb{\mathbf{b}}
%\def\bB{\mathbf{B}}
%\def\bB{{B}}
%\def\bC{\mathbf{C}}
\def\bC{{C}}
\def\be{\mathbf{e}}
\def\bu{\mathbf{u}}
\def\bx{\mathbf{x}}
\def\by{\mathbf{y}}
\def\bz{\mathbf{z}}
\def\bp{\mathbf{p}}
\def\bdelta{\mathbf{\delta}}
\def\bq{\mathbf{q}}
\def\br{\mathbf{r}}
\def\bv{\mathbf{v}}
\def\ba{\mathbf{a}}
\def\bg{\mathbf{g}}
\def\bs{\mathbf{s}}
\newcommand{\dm}{\delta_{\times}}
\newcommand{\cA}{\mathcal{A}}
%\def\bA{\mathbf{A}}
%\def\bA{{A}}
\def\bI{\mathbf{I}}
\def\bJ{\mathbf{J}}
\def\bP{\mathbf{P}}
\def\bV{\mathbf{V}}
\def\sgn{\text{sgn}}
\def\eps{\varepsilon}
\def\epsilon{\varepsilon}
\def\veps{\varepsilon}
\newcommand{\etal}{ \textit{et al.}\xspace}
\def\tsum{{\textstyle \sum}}
\def\universal{{\sc Universal}\xspace}
\def\ogd{{\sc Online Gradient Descent}\xspace}
\def\R{\ensuremath{\mathcal R}}
\def\lmid{\lambda_{\text{mid}}}

\def\hestinv{\tilde{\nabla}^{-2}}
\def\hest{\tilde{\nabla}^{2}}
\def\hessinv{\nabla^{-2}}
\def\hess{\nabla^2}
\def\grad{\nabla}
\newcommand{\defeq}{\triangleq}

\newcommand*\xor{\mathbin{\oplus}}
\newcommand{\innerprod}[2]{\langle #1, #2 \rangle}
\newcommand{\matnorm}[2]{\| #1 \|_{#2}}
\newcommand{\invmatnorm}[2]{\| #1 \|_{#2^{-1}}}


%specific to non convex second order paper
\newcommand{\hlinverse}{(\bH + \lambda \bI)^{-1}}
\newcommand{\hlpinverse}{(\bH + \lambda \bI)^{+}}
\newcommand{\hlinversea}[1]{(\bH + #1 \bI)^{-1}}
\newcommand{\hlpinversea}[1]{(\bH + #1 \bI)^{+}}
\newcommand{\ceil}[1]{\left\lceil #1 \right\rceil}

\newcommand{\Tg}{\mathbb{T}_g}
\newcommand{\Th}{\mathbb{T}_h}
\newcommand{\Thh}{\mathbb{T}_{h,1}}
\newcommand{\Time}{\mathbb{T}_{\mathsf{inverse}}}

\newtheorem{innercustomthm}{Theorem}
\newenvironment{stheorem}[1]
  {\renewcommand\theinnercustomthm{#1}\innercustomthm}
  {\endinnercustomthm}
\newtheorem{innercustomlemma}{Lemma}
\newenvironment{slemma}[1]
  {\renewcommand\theinnercustomlemma{#1}\innercustomlemma}
  {\endinnercustomlemma}
%
\newtheorem{ctheorem}{Theorem}
\newtheorem{clemma}{Main Lemma}

% \newtheorem{theorem}{Theorem}[section]
% %\newtheorem*{theorem*}{Theorem}

\newtheorem{claim}[theorem]{Claim}
% \newtheorem{subclaim}{Claim}[theorem]
% \newtheorem{proposition}[theorem]{Proposition}
% \newtheorem{lemma}[theorem]{Lemma}
% \newtheorem{corollary}[theorem]{Corollary}
% \newtheorem{conjecture}[theorem]{Conjecture}
\newtheorem{observation}[theorem]{Observation}
% \newtheorem{fact}[theorem]{Fact}


% \newtheorem{definition}[theorem]{Definition}
% \newtheorem{construction}[theorem]{Construction}
% \newtheorem{example}[theorem]{Example}
% \newtheorem{algorithm1}[theorem]{Algorithm}
% \newtheorem{protocol}[theorem]{Protocol}
% \newtheorem{assumption}[theorem]{Assumption}

%\newtheorem*{rep@theorem}{\rep@title}
\newcommand{\newreptheorem}[2]{%
\newenvironment{rep#1}[1]{%
 \def\rep@title{#2 \ref{##1}}%
 \begin{rep@theorem}}%
 {\end{rep@theorem}}}


\newreptheorem{theorem}{Theorem}
\newreptheorem{lemma}{Lemma}
\newreptheorem{proposition}{Proposition}
\newreptheorem{claim}{Claim}
\newreptheorem{corollary}{Corollary}
\newreptheorem{mainlemma}{Main Lemma}



% \theoremstyle{remark}
% \newtheorem{remark}[theorem]{Remark}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% REFERNCE MACROS

% \newcommand{\namedref}[2]{\mbox{\hyperref[#2]{#1~\ref*{#2}}}}

% \newcommand{\chapterref}[1]{\namedref{Chapter}{#1}}
% \newcommand{\sectionref}[1]{\namedref{Section}{#1}}
% \newcommand{\appendixref}[1]{\namedref{Appendix}{#1}}
% \newcommand{\theoremref}[1]{\namedref{Theorem}{#1}}
% \newcommand{\factref}[1]{\namedref{Fact}{#1}}
% \newcommand{\remarkref}[1]{\namedref{Remark}{#1}}
% \newcommand{\definitionref}[1]{\namedref{Definition}{#1}}
% \newcommand{\figureref}[1]{\namedref{Figure}{#1}}
% \newcommand{\figurerefb}[2]{\mbox{\hyperref[#1]{Figure~\ref*{#1}#2}}}
% \newcommand{\tableref}[1]{\namedref{Table}{#1}}
% \newcommand{\lemmaref}[1]{\namedref{Lemma}{#1}}
% \newcommand{\mainlemmaref}[1]{\namedref{Main Lemma}{#1}}
% \newcommand{\claimref}[1]{\namedref{Claim}{#1}}
% \newcommand{\propositionref}[1]{\namedref{Proposition}{#1}}
% \newcommand{\corollaryref}[1]{\namedref{Corollary}{#1}}
% \newcommand{\constructionref}[1]{\namedref{Construction}{#1}}
% \newcommand{\itemref}[1]{\namedref{Item}{#1}}
% \newcommand{\propertyref}[1]{\namedref{Property}{#1}}
% \newcommand{\protocolref}[1]{\namedref{Protocol}{#1}}
% \newcommand{\algorithmref}[1]{\namedref{Algorithm}{#1}}
% \newcommand{\assumptionref}[1]{\namedref{Assumption}{#1}}
% \newcommand{\stepref}[1]{\namedref{Step}{#1}}
% \newcommand{\paramref}[1]{\namedref{Parameter}{#1}}
% \newcommand{\footnoteref}[1]{\namedref{Footnote}{#1}}
% \newcommand{\equationref}[1]{\mbox{\hyperref[#1]{(\ref*{#1})}}}
% \renewcommand{\eqref}{\equationref}
% %\newcommand{\equationref}[1]{\namedref{Equation}{#1}}
% \newcommand{\exampleref}[1]{\namedref{Example}{#1}}
%\newcommand{\lineref}[1]{\namedref{Line}{#1}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\numberwithin{equation}{section}


\newcommand{\da}{\text{\ding{172}}\xspace}
\newcommand{\db}{\text{\ding{173}}\xspace}
\newcommand{\dc}{\text{\ding{174}}\xspace}
\newcommand{\dd}{\text{\ding{175}}\xspace}
\newcommand{\de}{\text{\ding{176}}\xspace}
\newcommand{\df}{\text{\ding{177}}\xspace}
\newcommand{\dg}{\text{\ding{178}}\xspace}

